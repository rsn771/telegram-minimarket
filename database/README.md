# База данных

Эта папка содержит базы данных для Telegram Mini Market.

## Содержимое

- `telegram_channels.db` — SQLite база с мини-приложениями (каналами)
  - Таблица `channels` — информация о мини-приложениях
  - Используется напрямую приложением (не копия!)
  
- `reviews.db` — SQLite база с отзывами
  - Таблица `reviews` — отзывы пользователей на мини-приложения
  - Используется напрямую приложением (не копия!)

- `mainbd.py` — Python-скрипт для работы с базой (добавление, редактирование каналов)
- `logo&screens/` — иконки и скриншоты приложений в формате WebP

## Работа с базами данных

### В SQLiteStudio

Обе базы данных можно открыть и редактировать напрямую в SQLiteStudio:

1. Откройте SQLiteStudio
2. Добавьте базу данных:
   - `database/telegram_channels.db` — для работы с мини-приложениями
   - `database/reviews.db` — для работы с отзывами
3. Все изменения будут сразу видны в приложении (после перезагрузки страницы)

**Важно**: Это реальные базы данных, которые используются приложением. Все изменения в SQLiteStudio будут отражаться в мини-приложении!

### Структура таблиц

#### `telegram_channels.db` → таблица `channels`:
- `idminiapp` (TEXT, PRIMARY KEY) — ID мини-приложения
- `title` (TEXT) — Название
- `description` (TEXT) — Описание
- `icon` (TEXT) — Имя файла иконки из `logo&screens/`
- `url` (TEXT) — Ссылка на мини-приложение
- `is_verified` (INTEGER) — Верифицировано ли (0 или 1)
- `rating` (REAL) — Рейтинг (обновляется автоматически из отзывов)
- `category` (TEXT) — Категория (Утилиты, Игры, Финансы и т.д.)
- `screenshots_path` (TEXT) — Путь к скриншотам через ";" (например: `app_scr_1.webp;app_scr_2.webp`)

#### `reviews.db` → таблица `reviews`:
- `id` (INTEGER, PRIMARY KEY) — ID отзыва
- `idminiapp` (TEXT) — ID мини-приложения (связь с `channels.idminiapp`)
- `username` (TEXT) — Имя пользователя (по умолчанию "Пользователь")
- `rating` (INTEGER) — Оценка от 1 до 5
- `text` (TEXT) — Текст отзыва
- `created_at` (TEXT) — Дата создания

## Запуск

После копирования своих данных (или использования пустой БД) выполните:

```bash
npm install
npm run dev
```
